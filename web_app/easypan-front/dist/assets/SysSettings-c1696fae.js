import{j as v,r as d,ag as m,o as y,c as b,V as a,P as s,a3 as V,T as c}from"./@vue-7298a6f3.js";import{u as w,b as x}from"./vue-router-128bc7ad.js";import{_ as E}from"./index-29e2e257.js";import"./element-plus-857d32b3.js";import"./lodash-es-36eb724a.js";import"./@vueuse-740eda15.js";import"./@element-plus-925c7e21.js";import"./@popperjs-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-c95324ad.js";import"./aplayer-d80f7f58.js";import"./async-validator-10c6301d.js";import"./memoize-one-297ddbcb.js";import"./escape-html-85da7166.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-d10d3e5d.js";import"./vue-cookies-9b55b892.js";import"./@highlightjs-b388fc70.js";import"./highlight.js-cc51af62.js";import"./axios-4a70c6fc.js";import"./docx-preview-b41ea745.js";import"./jszip-d9c085e9.js";import"./xlsx-04f2268f.js";import"./vue-pdf-embed-acd0b5a4.js";import"./vue-9ac0364e.js";import"./dplayer-ff9c2365.js";import"./vue-clipboard3-abb1cd37.js";import"./clipboard-2fdbe17c.js";const C={class:"sys-setting-panel"},U={__name:"SysSettings",setup(h){const{proxy:l}=v();w(),x();const p={getSysSettings:"/admin/getSysSettings",saveSettings:"/admin/saveSysSettings"},t=d({}),u=d(),g={registerEmailTitle:[{required:!0,message:"please write register email auth code and email title"}],registerEmailContent:[{required:!0,message:"please write register email auth code and email content"}],userInitUseSpace:[{required:!0,message:"please assign initial storage size"},{validator:l.Verify.number,message:"storage size must be number"}]};(async()=>{let r=await l.Request({url:p.getSysSettings});r&&(t.value=r.data)})();const _=async()=>{u.value.validate(async r=>{if(!r)return;let e=Object.assign({},t.value);await l.Request({url:p.saveSettings,params:e})&&l.Message.success("save success")})};return(r,e)=>{const o=m("el-input"),n=m("el-form-item"),f=m("el-button"),S=m("el-form");return y(),b("div",C,[a(S,{model:t.value,rules:g,ref_key:"formDataRef",ref:u,"label-width":"150px",onSubmit:e[3]||(e[3]=V(()=>{},["prevent"]))},{default:s(()=>[a(n,{label:"register email title",prop:"registerEmailTitle"},{default:s(()=>[a(o,{clearable:"",placeholder:"please write register email auth code and email title",modelValue:t.value.registerEmailTitle,"onUpdate:modelValue":e[0]||(e[0]=i=>t.value.registerEmailTitle=i)},null,8,["modelValue"])]),_:1}),a(n,{label:"register email title",prop:"registerEmailContent"},{default:s(()=>[a(o,{clearable:"",placeholder:"please write register email auth code and email content%s placeholder is auth code content",modelValue:t.value.registerEmailContent,"onUpdate:modelValue":e[1]||(e[1]=i=>t.value.registerEmailContent=i)},null,8,["modelValue"])]),_:1}),a(n,{label:"initial storage size",prop:"userInitUseSpace"},{default:s(()=>[a(o,{clearable:"",placeholder:"initial storage size",modelValue:t.value.userInitUseSpace,"onUpdate:modelValue":e[2]||(e[2]=i=>t.value.userInitUseSpace=i)},{suffix:s(()=>[c("MB")]),_:1},8,["modelValue"])]),_:1}),a(n,{label:"",prop:""},{default:s(()=>[a(f,{type:"primary",onClick:_},{default:s(()=>[c("Save")]),_:1})]),_:1})]),_:1},8,["model"])])}}},se=E(U,[["__scopeId","data-v-ea86ad6e"]]);export{se as default};
