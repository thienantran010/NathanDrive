import{j as b,r as d,ag as o,o as V,c as N,a as e,V as r,U as l,P as p,a3 as R,a9 as D,T as q,bh as B,bf as K}from"./@vue-7298a6f3.js";import{u as T,b as A}from"./vue-router-128bc7ad.js";import{_ as U}from"./index-29e2e257.js";import"./element-plus-857d32b3.js";import"./lodash-es-36eb724a.js";import"./@vueuse-740eda15.js";import"./@element-plus-925c7e21.js";import"./@popperjs-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-c95324ad.js";import"./aplayer-d80f7f58.js";import"./async-validator-10c6301d.js";import"./memoize-one-297ddbcb.js";import"./escape-html-85da7166.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-d10d3e5d.js";import"./vue-cookies-9b55b892.js";import"./@highlightjs-b388fc70.js";import"./highlight.js-cc51af62.js";import"./axios-4a70c6fc.js";import"./docx-preview-b41ea745.js";import"./jszip-d9c085e9.js";import"./xlsx-04f2268f.js";import"./vue-pdf-embed-acd0b5a4.js";import"./vue-9ac0364e.js";import"./dplayer-ff9c2365.js";import"./vue-clipboard3-abb1cd37.js";import"./clipboard-2fdbe17c.js";const f=c=>(B("data-v-60efafda"),c=c(),K(),c),j={class:"share"},E={class:"body-content"},L=f(()=>e("div",{class:"logo"},[e("span",{class:"iconfont icon-pan"}),e("span",{class:"name"},"Nathan Drive")],-1)),M={class:"code-panel"},P={class:"file-info"},$={class:"avatar"},z={class:"share-info"},F={class:"user-info"},G={class:"nick-name"},H={class:"share-time"},J={class:"file-name"},O={class:"code-body"},Q=f(()=>e("div",{class:"tips"},"please write access code：",-1)),W={class:"input-area"},X={__name:"ShareCheck",setup(c){const{proxy:m}=b(),v=T(),S=A(),_={getShareInfo:"/showShare/getShareInfo",checkShareCode:"/showShare/checkShareCode"},n=S.params.shareId,s=d({});(async()=>{let t=await m.Request({url:_.getShareInfo,params:{shareId:n}});t&&(s.value=t.data)})();const i=d({}),u=d(),I={code:[{required:!0,message:"please write access code"},{min:5,message:"access code is 5 digits"},{max:5,message:"access code is 5 digits"}]},h=async()=>{u.value.validate(async t=>{!t||!await m.Request({url:_.checkShareCode,params:{shareId:n,code:i.value.code}})||v.push(`/share/${n}`)})};return(t,a)=>{const g=o("Avatar"),y=o("el-input"),k=o("el-button"),w=o("el-form-item"),C=o("el-form");return V(),N("div",j,[e("div",E,[L,e("div",M,[e("div",P,[e("div",$,[r(g,{userId:s.value.userId,avatar:s.value.avatar,width:50},null,8,["userId","avatar"])]),e("div",z,[e("div",F,[e("span",G,l(s.value.nickName),1),e("span",H,"share at "+l(s.value.shareTime),1)]),e("div",J,"share file："+l(s.value.fileName),1)])]),e("div",O,[Q,e("div",W,[r(C,{model:i.value,rules:I,ref_key:"formDataRef",ref:u,maxLength:5,onSubmit:a[1]||(a[1]=R(()=>{},["prevent"]))},{default:p(()=>[r(w,{prop:"code"},{default:p(()=>[r(y,{class:"input",modelValue:i.value.code,"onUpdate:modelValue":a[0]||(a[0]=x=>i.value.code=x),onKeyup:D(h,["enter"])},null,8,["modelValue","onKeyup"]),r(k,{type:"primary",onClick:h},{default:p(()=>[q("access file")]),_:1})]),_:1})]),_:1},8,["model"])])])])])])}}},Ve=U(X,[["__scopeId","data-v-60efafda"]]);export{Ve as default};
